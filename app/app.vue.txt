<template>
  <!--
    UApp: Provedor global de tema e contexto do Nuxt UI.
    UTooltipProvider: Adicionado explicitamente para corrigir o erro de injeção do Tooltip.
  -->
  <UApp>
    <UTooltipProvider>
      <!-- Barra de progresso no topo ao navegar entre rotas -->
      <NuxtLoadingIndicator color="#3b82f6" />

      <NuxtLayout>
        <NuxtPage />
      </NuxtLayout>

      <!--
        Gerenciador de Notificações Global (Toast).
        Colocado aqui para funcionar em qualquer layout.
      -->
      <UNotifications />
    </UTooltipProvider>
  </UApp>
</template>

<script setup lang="ts">
// Configuração Global de SEO e Estilos do Body
useHead({
  bodyAttrs: {
    // Aplica classes Tailwind diretamente na tag <body>
    // Garante suavização de fonte (antialiased) e cores de fundo consistentes
    class: 'antialiased font-sans text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-900 transition-colors duration-300'
  },
  titleTemplate: (titleChunk) => {
    return titleChunk ? `${titleChunk} - Minha Empresa` : 'Painel de Controle';
  }
});
</script>
